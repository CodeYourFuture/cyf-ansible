- name: Install gnupg and software-properties-common
  apt:
    name: [ gnupg, software-properties-common  ]
    state: present

- include_tasks: ppas.yml
- include_tasks: repos.yml

- name: Update and upgrade apt packages
  apt:
    upgrade: yes
    update_cache: yes

- name: Install hardware enablement stack (newer kernel and X)
  apt:
    name: [ linux-generic-hwe-18.04, xserver-xorg-hwe-18.04 ]
    state: present

- name: Install preload to reduce application load time
  apt:
    name: preload
    state: present

- name: Enlarge swap file to 1.5x system RAM
  script: ../scripts/swap.sh

- name: Install Ubuntu Desktop
  apt:
    name: [ ubuntu-desktop, vlc ]
    state: present

- name: Remove Amazon app package
  apt:
    name: ubuntu-web-launchers
    state: absent
    autoremove: yes
    purge: yes
